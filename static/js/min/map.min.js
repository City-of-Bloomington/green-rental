var RRMap=function(){var n=this;return n.zoom=14,n.lat=18.427288,n.lng=-64.446392,n.map,n.markers=[],n.showMarkers=function(){var e=n.map.getBounds(),o=e.getSouthWest(),a=e.getNorthEast();$.ajax({url:"/building/in/"+o.lat()+"/"+o.lng()+"/and/"+a.lat()+"/"+a.lng()}).done(function(e){for(var o,a,t=0,l=n.markers.length;l>t;t++)o=n.markers[t],o.setMap(null);n.markers.length=0;for(var t=0,l=e.buildings.length;l>t;t++)a=e.buildings[t],o=new google.maps.Marker({position:new google.maps.LatLng(a.lat,a.lng),map:n.map,title:a.address}),n.update_info(a.profile,o),n.markers.push(o);console&&console.log&&console.log("Sample of data:",e)})},n.update_info=function(e,o){google.maps.event.addListener(o,"click",function(){n.infowindow.setContent(e),infowindow.open(map,o)})},n.initialize=function(){var e={center:new google.maps.LatLng(n.lat,n.lng),zoom:zoom,mapTypeId:google.maps.MapTypeId.ROADMAP};n.map=new google.maps.Map(document.getElementById("map-canvas"),e),n.infowindow=new google.maps.InfoWindow,google.maps.event.addListener(n.map,"idle",n.showMarkers)},n};